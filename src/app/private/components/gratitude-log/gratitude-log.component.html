<div class="card text-center">
    <div class="card-header text-end">
        <button type="button" class="btn btn-link close mt-2 mb-2" aria-label="Close" id='gratitude'
            (click)="disableIt(data)" #data>X</button>
    </div>

    <div class="card-body">
        <p class="card-title">
            Gratitude Log:
        </p>
        <div class="card-subtitle mt-3 mb-3">
            <p>You can be grateful for any amll or big thing in your life...</p>
        </div>
        <form [formGroup]="gratitudeForm" class="mb-4 mt-4">
            <div class="form-group text-start">
                <input type="text" [className]="
                                                this.gratitudeForm.get('gratitude1Ts')?.hasError('minlength') ||
                                                this.gratitudeForm.get('gratitude1Ts')?.hasError('maxlength')||
                                                (this.gratitudeForm.get('gratitude1Ts')?.hasError('required') 
                                                && this.gratitudeForm.get('gratitude1Ts')?.touched)?
                                                'form-control':'inputLine form-control'" placeholder="{{placeholder}}"
                    formControlName="gratitude1Ts">
                <small *ngIf="this.gratitudeForm.get('gratitude1Ts')?.hasError('minlength')" class="text-danger">
                    Minimum length must be 3 characters.
                </small>
                <small *ngIf="this.gratitudeForm.get('gratitude1Ts')?.hasError('maxlength')" class="text-danger">
                    Maximum length must be 200 characters.
                </small>
                <small
                    *ngIf="this.gratitudeForm.get('gratitude1Ts')?.hasError('required') && this.gratitudeForm.get('gratitude1Ts')?.touched"
                    class="text-danger">
                    This field is required.
                </small>
            </div>
            <div class="form-group mt-3 text-start">
                <input type="text" [className]="
                    this.gratitudeForm.get('gratitude2Ts')?.hasError('minlength') ||
                    this.gratitudeForm.get('gratitude2Ts')?.hasError('maxlength')?
                    'form-control':'inputLine form-control'" placeholder="{{placeholder}}"
                    formControlName="gratitude2Ts">
                <small *ngIf="this.gratitudeForm.get('gratitude2Ts')?.hasError('minlength')" class="text-danger">
                    Minimum length must be 3 characters.
                </small>
                <small *ngIf="this.gratitudeForm.get('gratitude2Ts')?.hasError('maxlength')" class="text-danger">
                    Maximum length must be 200 characters.
                </small>
            </div>
            <div class="form-group mt-3 text-start">
                <input type="text" [className]="
                this.gratitudeForm.get('gratitude3Ts')?.hasError('minlength') ||
                this.gratitudeForm.get('gratitude3Ts')?.hasError('maxlength')?
                'form-control':'inputLine form-control'" placeholder="{{placeholder}}" formControlName="gratitude3Ts">
                <small *ngIf="this.gratitudeForm.get('gratitude3Ts')?.hasError('minlength')" class="text-danger">
                    Minimum length must be 3 characters.
                </small>
                <small *ngIf="this.gratitudeForm.get('gratitude3Ts')?.hasError('maxlength')" class="text-danger">
                    Maximum length must be 200 characters.
                </small>
            </div>
            <div class="form-group mt-3 mb-3 text-center button">
                <button class="btn btn-secondary form-button form-control" (click)="logGratitudes()"
                    [disabled]="this.gratitudeForm.invalid || this.gratitudeForm.pristine ">Log</button>
            </div>

        </form>

        <div class="message">
            <ng-container *ngIf="showMessage; else button">
                <small class="successMessage text-start">
                    {{successMessage}}
                </small>
            </ng-container>
            <ng-template #button>
                <p class="buttonLink text-end">
                    <button class="btn btn-link link-secondary" (click)="showAllGratitudes()">{{linkText}}
                    </button>
                </p>
            </ng-template>
        </div>

    </div>
</div>